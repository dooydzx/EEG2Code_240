A 240-Target VEP-Based BCI System Employing Narrow-Band Random Sequences
We have provided here an algorithm for offline analysis of the accuracy rate of 240 targets using the method described in the text. 


STEP:
The file sequencegeneration.m is the program for stimulus sequence generation and filtering, used to generate random stimulus sequences.
The file dataprocess.m performs data preprocessing operations, reads data for offline single-target training, offline single-target testing, and online multi-target testing, and carries out preprocessing operations such as filtering and normalization.
The EEG2Code algorithm described in this paper is included in the file EEG2Code_offline.py. This program performs EEG-to-sequence prediction training based on training data and then makes EEG-to-sequence predictions on the test data, ultimately outputting the predicted sequence as the result.
The file calculateaccuracy.m is used to calculate accuracy, and the method is to compare the matching degree between the predicted sequence generated by EEG2Code and the original sequence.

Please run the programs in the following order:

First, run dataprocess.m for data preprocessing.
Then, run EEG2Code_offline.py for model training and testing.
Finally, run calculateaccuracy.m to calculate prediction accuracy. 

he stimulus sequences used in the training and testing phases of the experiment are already provided in champion_sequencetrain.mat and champion_sequencetest.mat. sequencegeneration.m is an example for generating new stimuli.

DATA

Data can be fonded in https://zenodo.org/records/14587455.
The data includes single-target training, single-target testing, and multi-target testing data from 18 subjects.
The three files allSubjects_trainonedata.mat, allSubjects_testonedata.mat, and allSubjects_testmultidata.mat contain the single-target training, single-target testing, and multi-target testing data for all subjects, respectively. The data is stored in the file in the form of a struct, where the structure names represent the 18 subjects. And includes data from 1 second before the stimulus to 1 second after the stimulus for each trial. No preprocessing was performed except for a 50Hz notch filter during data acquisition.
The size of the data for each subject in allSubjects_trainonedata.mat is 360x21x3000 , representing 360 trials * 21 channels * 3000 data points (1 second before stimulus, 1 second stimulus, and 1 second after stimulus at a 1000 Hz sampling rate).
The size of the data for each subject in allSubjects_testonedata.mat and allSubjects_testmultidata.mat is 240x21x3000 , representing 240 trials * 21 channels * 3000 data points (1 second before stimulus, 1 second stimulus, and 1 second after stimulus at a 1000 Hz sampling rate). The categories of the stimuli are arranged in order and correspond one-to-one with the sequence in champion_sequencetest.mat. 
